同环比功能实现步骤分析:

1 第一步:有第一段时间求出对应同环比要操作的时间段:调用者实行
2 第二步:时间需要补齐:默认从1号开始,31号结束:调用者实行
3 第三步:求出第一段时间的集合(通过获取明细的数据)
4 第四步:求出第二段时间的集合(带入条件重新检索)
5 第五步:分别对上面两端时间求出的集合,按照日期进行合拼
6 第六步:通过两个合并后的模型进行具体的同环比计算,并返回一个集合
7 第七步:制定具体返回给客户端的数据格式:Map<分析类型,比率集合>

深度分析:

1 第一段时间的数据可以缓存起来 直接使用 但是要注意线程同步
2 第二段时间的数据需要重新计算

牵涉到的工具类方法:
1 集合按照月份合拼
2 比率集合进行排序
3 季度排序


章华才反馈：
1.报表明细字段对应的值大部一样
2.报表明细缓存数据时间长会丢失